(this.webpackJsonpmessaging=this.webpackJsonpmessaging||[]).push([[0],{162:function(e,t,a){e.exports=a.p+"static/media/photo-1519345182560-3f2917c472ef.a36389b6.jpeg"},381:function(e,t,a){e.exports=a.p+"static/media/photo-1438761681033-6461ffad8d80.eee37ee5.jpeg"},382:function(e,t,a){e.exports=a.p+"static/media/photo-1463453091185-61582044d556.a10d0ecf.jpeg"},383:function(e,t,a){e.exports=a.p+"static/media/photo-1503467913725-8484b65b0715.44bc3e89.jpeg"},384:function(e,t,a){e.exports=a.p+"static/media/photo-1506089676908-3592f7389d4d.de96ec3a.jpeg"},385:function(e,t,a){e.exports=a.p+"static/media/photo-1507003211169-0a1dd7228f2d.9bdeb468.jpeg"},386:function(e,t,a){e.exports=a.p+"static/media/photo-1517202383675-eb0a6e27775f.1864b915.jpeg"},387:function(e,t,a){e.exports=a.p+"static/media/photo-1541271696563-3be2f555fc4e.4e84f363.jpeg"},388:function(e,t,a){e.exports=a.p+"static/media/photo-1542345812-d98b5cd6cf98.149796d5.jpeg"},389:function(e,t,a){e.exports=a.p+"static/media/photo-1546539782-6fc531453083.fe0d4222.jpeg"},390:function(e,t,a){e.exports=a.p+"static/media/photo-1546623381-d6d69cd69955.df1d202f.jpeg"},391:function(e,t,a){e.exports=a.p+"static/media/photo-1546820389-44d77e1f3b31.ddd84bce.jpeg"},392:function(e,t,a){e.exports=a.p+"static/media/photo-1548946526-f69e2424cf45.cdd62d22.jpeg"},393:function(e,t,a){e.exports=a.p+"static/media/photo-1549351236-caca0f174515.fd0c1000.jpeg"},394:function(e,t,a){e.exports=a.p+"static/media/photo-1551069613-1904dbdcda11.89f40904.jpeg"},395:function(e,t,a){e.exports=a.p+"static/media/photo-1554384645-13eab165c24b.b980e4f7.jpeg"},396:function(e,t,a){e.exports=a.p+"static/media/photo-1569443693539-175ea9f007e8.78073ccc.jpeg"},397:function(e,t,a){e.exports=a.p+"static/media/photo-1573140247632-f8fd74997d5c.77d2e7a6.jpeg"},398:function(e,t,a){e.exports=a.p+"static/media/photo-1546456073-6712f79251bb.24309ff6.jpeg"},399:function(e,t,a){e.exports=a.p+"static/media/photo-1502378735452-bc7d86632805.94a54b7b.jpeg"},400:function(e,t,a){e.exports=a.p+"static/media/photo-1546967191-fdfb13ed6b1e.1d750cf2.jpeg"},401:function(e,t,a){e.exports=a.p+"static/media/photo-1502937406922-305bb2789e95.edbd0437.jpeg"},402:function(e,t,a){e.exports=a.p+"static/media/photo-1552058544-f2b08422138a.fe0cd750.jpeg"},403:function(e,t,a){e.exports=a.p+"static/media/photo-1531251445707-1f000e1e87d0.07978947.jpeg"},409:function(e,t,a){e.exports=a.p+"static/media/stream.ce7bf370.png"},433:function(e,t,a){e.exports=a(899)},645:function(e,t,a){},646:function(e,t,a){},647:function(e,t,a){},784:function(e,t,a){},785:function(e,t,a){},786:function(e,t,a){},787:function(e,t,a){},788:function(e,t,a){},789:function(e,t,a){},790:function(e,t,a){},899:function(e,t,a){"use strict";a.r(t);a(434),a(444);var n=a(0),l=a.n(n),r=a(57),c=a.n(r),i=a(32),s=a(49),o=a(919),u=a(918),m=a(917),d=function(e,t){Object(n.useEffect)((function(){var a,n=(a=t,function(e){window.parent.postMessage(e,a)}),l=function(e){var t=e.type,a=e.message;switch(t){case"reaction.new":n("react-to-message");break;case"message.new":if("giphy"===a.command){n("run-giphy");break}if(a.attachments.length){if("video"===a.attachments[0].type&&"https://youtu.be/Ujvy-DEA-UM"===a.attachments[0].og_scrape_url){n("send-youtube");break}if("image"===a.attachments[0].type){n("drag-drop-image");break}}if(a.parent_id){n("start-thread");break}n("send-message")}};return e&&e.on(l),function(){return null===e||void 0===e?void 0:e.off(l)}}),[e,t])},p=(a(644),a(645),a(231)),g=a(58),h=a.n(g),v=a(94),f=a(163),E=a(7),_=a(130),b=a.n(_),w=a(381),C=a.n(w),j=a(382),x=a.n(j),O=a(383),N=a.n(O),y=a(162),k=a.n(y),L=a(384),M=a.n(L),R=a(385),S=a.n(R),z=a(386),I=a.n(z),Z=a(387),H=a.n(Z),V=a(388),A=a.n(V),U=a(389),q=a.n(U),B=a(390),P=a.n(B),T=a(391),J=a.n(T),D=a(392),F=a.n(D),G=a(393),$=a.n(G),K=a(394),W=a.n(K),X=a(395),Y=a.n(X),Q=a(396),ee=a.n(Q),te=a(397),ae=a.n(te),ne=a(398),le=a.n(ne),re=a(399),ce=a.n(re),ie=a(400),se=a.n(ie),oe=a(401),ue=a.n(oe),me=a(402),de=a.n(me),pe=a(403),ge=a.n(pe),he=function(e){var t=e.isEditing,a=e.setIsEditing;return l.a.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{cursor:"pointer",marginLeft:"16px"},onClick:function(){t||a(!0)}},l.a.createElement("path",{d:"M12 2C17.52 2 22 6.48 22 12C22 17.52 17.52 22 12 22C6.48 22 2 17.52 2 12C2 6.48 6.48 2 12 2Z",fill:"#858688"}),l.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13 8L13 6H11V8H13ZM13 10H11V18H13V10Z",fill:"white"}))},ve=function(){return l.a.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{cursor:"pointer",marginLeft:"16px"}},l.a.createElement("path",{d:"M12 2C17.52 2 22 6.48 22 12C22 17.52 17.52 22 12 22C6.48 22 2 17.52 2 12C2 6.48 6.48 2 12 2Z",fill:"#858688"}),l.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16.3875 7.73454C15.9092 7.4584 15.2977 7.62228 15.0215 8.10057L11.3573 14.4472L8.62166 11.7116C8.23113 11.3211 7.59797 11.3211 7.20744 11.7116C6.81692 12.1022 6.81692 12.7353 7.20744 13.1259L10.8123 16.7307C10.8303 16.7487 10.8488 16.7658 10.8677 16.7821C10.9278 16.8418 10.9965 16.8948 11.0732 16.9392C11.5515 17.2153 12.1631 17.0514 12.4393 16.5731L16.7536 9.10057C17.0297 8.62228 16.8658 8.01069 16.3875 7.73454Z",fill:"white"}))},fe=function(e){var t=e.closeThread;return l.a.createElement("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg",onClick:function(e){return t(e)},style:{cursor:"pointer",marginRight:"10px"}},l.a.createElement("path",{d:"M0 20C0 8.95431 8.95431 0 20 0C31.0457 0 40 8.95431 40 20C40 31.0457 31.0457 40 20 40C8.95431 40 0 31.0457 0 20Z",fill:"#3E3E41"}),l.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M27.5625 25.4416L22.1208 20L27.5625 14.5583C28.15 13.9708 28.15 13.025 27.5625 12.4375C26.975 11.85 26.0291 11.85 25.4416 12.4375L20 17.8791L14.5583 12.4375C13.9708 11.85 13.025 11.85 12.4375 12.4375C11.85 13.025 11.85 13.9708 12.4375 14.5583L17.8791 20L12.4375 25.4416C11.85 26.0291 11.85 26.975 12.4375 27.5625C13.025 28.15 13.9708 28.15 14.5583 27.5625L20 22.1208L25.4416 27.5625C26.0291 28.15 26.975 28.15 27.5625 27.5625C28.1458 26.975 28.1458 26.025 27.5625 25.4416Z",fill:"#E9E9EA"}))},Ee=function(){return l.a.createElement("svg",{width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"},l.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18 17.9708H0V13.7278L13.435 0.292787C13.8255 -0.0975955 14.4585 -0.0975955 14.849 0.292787L17.678 3.12179C18.0684 3.51229 18.0684 4.14529 17.678 4.53579L6.243 15.9708H18V17.9708ZM2 15.9708H3.414L12.728 6.65679L11.314 5.24279L2 14.5568V15.9708ZM15.556 3.82879L14.142 5.24279L12.728 3.82879L14.142 2.41479L15.556 3.82879Z",fill:"#E9E9EA"}))},_e=function(){return l.a.createElement("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},l.a.createElement("g",null,l.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10 2C5.58172 2 2 5.58172 2 10C2 14.4183 5.58172 18 10 18C14.4183 18 18 14.4183 18 10C18 5.58172 14.4183 2 10 2ZM0 10C0 4.47715 4.47715 0 10 0C15.5228 0 20 4.47715 20 10C20 15.5228 15.5228 20 10 20C4.47715 20 0 15.5228 0 10Z"}),l.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9 7.5C9 8.32843 8.32843 9 7.5 9C6.67157 9 6 8.32843 6 7.5C6 6.67157 6.67157 6 7.5 6C8.32843 6 9 6.67157 9 7.5Z"}),l.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14 7.5C14 8.32843 13.3284 9 12.5 9C11.6716 9 11 8.32843 11 7.5C11 6.67157 11.6716 6 12.5 6C13.3284 6 14 6.67157 14 7.5Z"}),l.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.42662 11.1808C5.87907 10.8641 6.5026 10.9741 6.81932 11.4266C7.30834 12.1252 8.21252 12.9219 9.29096 13.1459C10.275 13.3503 11.6411 13.1262 13.2568 11.3311C13.6263 10.9206 14.2585 10.8873 14.6691 11.2567C15.0796 11.6262 15.1128 12.2585 14.7434 12.669C12.759 14.8738 10.7085 15.4831 8.88421 15.1041C7.15432 14.7448 5.8585 13.5415 5.18085 12.5735C4.86414 12.121 4.97417 11.4975 5.42662 11.1808Z"})))},be=function(){return l.a.createElement("svg",{width:"16",height:"14",viewBox:"0 0 16 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{cursor:"pointer",margin:"10px"}},l.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0.5 0.333344H15.5V2.00001H0.5V0.333344ZM0.5 6.16667H15.5V7.83334H0.5V6.16667ZM15.5 12H0.5V13.6667H15.5V12Z",fill:"white"}))},we=function(){return l.a.createElement("svg",{width:"6",height:"12",viewBox:"0 0 6 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},l.a.createElement("path",{d:"M2.75749 0.666626H5.66659L3.72719 4.54541H5.66659L2.03022 11.3333L2.75749 6.48481H0.333252L2.75749 0.666626Z",fill:"white"}))},Ce=function(){return l.a.createElement("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},l.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20 10C20 4.48 15.52 0 10 0C4.48 0 0 4.48 0 10C0 15.52 4.48 20 10 20C15.52 20 20 15.52 20 10ZM6 9H10V6L14 10L10 14V11H6V9Z",fill:"white"}))},je=function(){return l.a.createElement("svg",{width:"10",height:"10",viewBox:"0 0 10 10",fill:"none",xmlns:"http://www.w3.org/2000/svg"},l.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.72472 8.39971L6.325 5L9.72472 1.60029C10.0918 1.23324 10.0918 0.642327 9.72472 0.275283C9.35767 -0.091761 8.76676 -0.091761 8.39971 0.275283L5 3.675L1.60029 0.275283C1.23324 -0.091761 0.642327 -0.091761 0.275283 0.275283C-0.091761 0.642327 -0.091761 1.23324 0.275283 1.60029L3.675 5L0.275283 8.39971C-0.091761 8.76676 -0.091761 9.35767 0.275283 9.72472C0.642327 10.0918 1.23324 10.0918 1.60029 9.72472L5 6.325L8.39971 9.72472C8.76676 10.0918 9.35767 10.0918 9.72472 9.72472C10.0892 9.35767 10.0892 8.76415 9.72472 8.39971Z",fill:"white"}))},xe=function(){return l.a.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},l.a.createElement("path",{d:"M12 2C17.52 2 22 6.48 22 12C22 17.52 17.52 22 12 22C6.48 22 2 17.52 2 12C2 6.48 6.48 2 12 2Z",fill:"#858688"}),l.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16.7247 15.3997L13.325 12L16.7247 8.60029C17.0918 8.23324 17.0918 7.64233 16.7247 7.27528C16.3577 6.90824 15.7668 6.90824 15.3997 7.27528L12 10.675L8.60029 7.27528C8.23324 6.90824 7.64233 6.90824 7.27528 7.27528C6.90824 7.64233 6.90824 8.23324 7.27528 8.60029L10.675 12L7.27528 15.3997C6.90824 15.7668 6.90824 16.3577 7.27528 16.7247C7.64233 17.0918 8.23324 17.0918 8.60029 16.7247L12 13.325L15.3997 16.7247C15.7668 17.0918 16.3577 17.0918 16.7247 16.7247C17.0892 16.3577 17.0892 15.7642 16.7247 15.3997Z",fill:"white"}))},Oe=[C.a,x.a,N.a,k.a,M.a,S.a,I.a,k.a,H.a,A.a,q.a,P.a,J.a,F.a,$.a,W.a,Y.a,ee.a,ae.a,le.a,ce.a,se.a,ue.a,de.a,ge.a],Ne=function(){var e=Math.floor(24*Math.random());return Oe[e]},ye=function(e){return(null===e||void 0===e?void 0:e.user.image)?(null===e||void 0===e?void 0:e.user.image.includes("jen-avatar"))?Oe[11]:e.user.image:Ne()},ke=(a(646),function(e){var t=e.user;return l.a.createElement("li",{className:"messaging-create-channel__user-result"},l.a.createElement(f.a,{image:t.image,size:40}),t.online&&l.a.createElement("div",{className:"messaging-create-channel__user-result-online"}),l.a.createElement("div",{className:"messaging-create-channel__user-result__details"},l.a.createElement("span",null,t.name)))}),Le=l.a.memo((function(e){var t=e.onClose,a=e.toggleMobile,r=Object(E.c)(),c=r.client,s=r.setActiveChannel,o=Object(n.useState)(void 0),u=Object(i.a)(o,2),m=u[0],d=u[1],g=Object(n.useState)(""),f=Object(i.a)(g,2),_=f[0],w=f[1],C=Object(n.useState)(!1),j=Object(i.a)(C,2),x=j[0],O=j[1],N=Object(n.useState)(!1),y=Object(i.a)(N,2),k=y[0],L=y[1],M=Object(n.useState)(!1),R=Object(i.a)(M,2),S=R[0],z=R[1],I=Object(n.useState)([]),Z=Object(i.a)(I,2),H=Z[0],V=Z[1],A=Object(n.useState)([]),U=Object(i.a)(A,2),q=U[0],B=U[1],P=Object(n.useRef)(),T=function(){w(""),O(!1),L(!1)};Object(n.useEffect)((function(){var e=function(){x&&T()};return document.addEventListener("click",e),function(){return document.removeEventListener("click",e)}}),[]);var J=function(){var e=Object(v.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!S){e.next=2;break}return e.abrupt("return");case 2:return z(!0),e.prev=3,e.next=6,c.queryUsers({id:{$ne:c.userID},$and:[{name:{$autocomplete:_}},{name:{$nin:["Daniel Smith","Kevin Rosen","Jen Alexander"]}}]},{id:1},{limit:6});case 6:(t=e.sent).users.length?(L(!1),B(t.users)):L(!0),O(!0),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),console.log({error:e.t0});case 14:z(!1);case 15:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(){return e.apply(this,arguments)}}(),D=b()(J,100,{trailing:!0});Object(n.useEffect)((function(){_&&D()}),[_]);var F=function(){var e=Object(v.a)(h.a.mark((function e(){var a,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((a=H.map((function(e){return e.id}))).length){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,c.channel("messaging",{members:[].concat(Object(p.a)(a),[c.userID])});case 5:return n=e.sent,e.next=8,n.watch();case 8:s(n),V([]),B([]),t();case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),G=function(e){H.find((function(t){return t.id===e.id}))||(V([].concat(Object(p.a)(H),[e])),O(!1),w(""),P.current.focus())},$=Object(n.useCallback)((function(e){if(38===e.which&&d((function(e){return void 0===e?0:0===e?q.length-1:e-1})),40===e.which&&d((function(e){return void 0===e||e===q.length-1?0:e+1})),13===e.which&&(e.preventDefault(),void 0!==m))return G(q[m]),d(void 0)}),[q,m]);return Object(n.useEffect)((function(){return document.addEventListener("keydown",$,!1),function(){return document.removeEventListener("keydown",$)}}),[$]),l.a.createElement("div",{className:"messaging-create-channel"},l.a.createElement("header",null,l.a.createElement("div",{className:"messaging-create-channel__left"},l.a.createElement("div",{className:"messaging-create-channel__left-text"},"To: "),l.a.createElement("div",{className:"users-input-container"},!!(null===H||void 0===H?void 0:H.length)&&l.a.createElement("div",{className:"messaging-create-channel__users"},H.map((function(e){return l.a.createElement("div",{className:"messaging-create-channel__user",onClick:function(){return function(e){var t=H.filter((function(t){return t.id!==e.id}));V(t),P.current.focus()}(e)},key:e.id},l.a.createElement("div",{className:"messaging-create-channel__user-text"},e.name),l.a.createElement(je,null))}))),l.a.createElement("form",{onSubmit:G},l.a.createElement("input",{autoFocus:!0,ref:P,value:_,onChange:function(e){return w(e.target.value)},placeholder:H.length?"":"Start typing for suggestions",type:"text",className:"messaging-create-channel__input"}))),l.a.createElement("div",{className:"close-mobile-create",onClick:function(){return a()}},l.a.createElement(xe,null))),l.a.createElement("button",{className:"create-channel-button",onClick:F},"Start chat")),_&&l.a.createElement("main",null,l.a.createElement("ul",{className:"messaging-create-channel__user-results"},!!(null===q||void 0===q?void 0:q.length)&&!k&&l.a.createElement("div",null,q.map((function(e,t){return l.a.createElement("div",{className:"messaging-create-channel__user-result ".concat(m===t&&"focused"),onClick:function(){return G(e)},key:e.id},l.a.createElement(ke,{user:e}))}))),k&&l.a.createElement("div",{onClick:function(){P.current.focus(),T()},className:"messaging-create-channel__user-result empty"},"No people found..."))))})),Me=a(422),Re=(a(647),function(e){return l.a.createElement(l.a.Fragment,null,l.a.createElement(Me.a,e))}),Se=a(9),ze=(a(784),a(169)),Ie=(a(785),function(){var e=Object(E.c)().client,t=Object(ze.b)().typing;if(!e||!t)return null;var a=Object.values(t).filter((function(t){var a,n=t.user;return(null===n||void 0===n?void 0:n.id)!==(null===(a=e.user)||void 0===a?void 0:a.id)})).map((function(e){var t=e.user;return t.name||t.id})),n="";return 1===a.length?n="".concat(a[0]," is typing"):2===a.length?n="".concat(a[0]," and ").concat(a[1]," are typing"):a.length>2&&(n="".concat(a[0]," and ").concat(a.length-1," more are typing")),l.a.createElement("div",{className:"messaging__typing-indicator"},n&&l.a.createElement("div",{className:"dots"},l.a.createElement("span",{className:"dot"}),l.a.createElement("span",{className:"dot"}),l.a.createElement("span",{className:"dot"})),l.a.createElement("div",null,n))}),Ze=l.a.memo((function(e){var t,a=Object(Se.b)(),r=a.channel,c=a.client,s=Object(n.useState)((null===r||void 0===r?void 0:r.data.name)||""),o=Object(i.a)(s,2),u=o[0],m=o[1],d=Object(n.useState)(!1),p=Object(i.a)(d,2),g=p[0],E=p[1],_=Object(n.useState)(""),b=Object(i.a)(_,2),w=b[0],C=b[1],j=Object(n.useRef)(),x=Object.values((null===(t=r.state)||void 0===t?void 0:t.members)||{}).filter((function(e){var t,a;return(null===(t=e.user)||void 0===t?void 0:t.id)!==(null===c||void 0===c||null===(a=c.user)||void 0===a?void 0:a.id)})),O=function(){var e=Object(v.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&t.preventDefault(),!u||u===r.data.name){e.next=4;break}return e.next=4,r.update({name:u},{text:"Channel name changed to ".concat(u)});case 4:E(!1);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){g&&j.current&&j.current.focus()}),[g]),Object(n.useEffect)((function(){u||C(x.map((function(e){var t,a;return(null===(t=e.user)||void 0===t?void 0:t.name)||(null===(a=e.user)||void 0===a?void 0:a.id)||"Unnamed User"})).join(", "))}),[u,x]);var N=function(){return l.a.createElement("form",{style:{flex:1},onSubmit:function(e){e.preventDefault(),j.current.blur()}},l.a.createElement("input",{autoFocus:!0,className:"channel-header__edit-input",onBlur:O,onChange:function(e){return m(e.target.value)},placeholder:"Type a new name for the chat",ref:j,value:u}))};return l.a.createElement("div",{className:"messaging__channel-header"},l.a.createElement("div",{id:"mobile-nav-icon",className:"".concat(e.theme),onClick:function(){return e.toggleMobile()}},l.a.createElement(be,null)),function(e){return 1===e.length?l.a.createElement("div",{className:"messaging__channel-header__avatars"},l.a.createElement(f.a,{image:ye(e[0]),size:40}),";"):2===e.length?l.a.createElement("div",{className:"messaging__channel-header__avatars two"},l.a.createElement("span",null,l.a.createElement(f.a,{image:ye(e[0]),shape:"square",size:40})),l.a.createElement("span",null,l.a.createElement(f.a,{image:ye(e[1]),shape:"square",size:40}))):3===e.length?l.a.createElement("div",{className:"messaging__channel-header__avatars three"},l.a.createElement("span",null,l.a.createElement(f.a,{image:ye(e[0]),shape:"square",size:40})),l.a.createElement("span",null,l.a.createElement(f.a,{image:ye(e[1]),shape:"square",size:20}),l.a.createElement(f.a,{image:ye(e[2]),shape:"square",size:20}))):e.length>=4?l.a.createElement("div",{className:"messaging__channel-header__avatars four"},l.a.createElement("span",null,l.a.createElement(f.a,{image:ye(e[e.length-1]),shape:"square",size:20}),l.a.createElement(f.a,{image:ye(e[e.length-2]),shape:"square",size:20})),l.a.createElement("span",null,l.a.createElement(f.a,{image:ye(e[e.length-3]),shape:"square",size:20}),l.a.createElement(f.a,{image:ye(e[e.length-4]),shape:"square",size:20}))):null}(x),g?l.a.createElement(N,null):l.a.createElement("div",{className:"channel-header__name"},u||w),l.a.createElement("div",{className:"messaging__channel-header__right"},l.a.createElement(Ie,null),"Social Demo"!==u&&(g?l.a.createElement(ve,null):l.a.createElement(he,{isEditing:g,setIsEditing:E}))))})),He=(a(786),function(){return l.a.createElement("div",{style:{position:"relative"}},l.a.createElement("ul",{className:"skeleton-loader__list"},l.a.createElement("li",null,l.a.createElement("div",{className:"skeleton-loader__avatar"}),l.a.createElement("div",{className:"skeleton-loader__text"},l.a.createElement("div",null),l.a.createElement("div",null))),l.a.createElement("li",null,l.a.createElement("div",{className:"skeleton-loader__avatar"}),l.a.createElement("div",{className:"skeleton-loader__text"},l.a.createElement("div",null),l.a.createElement("div",null))),l.a.createElement("li",null,l.a.createElement("div",{className:"skeleton-loader__avatar"}),l.a.createElement("div",{className:"skeleton-loader__text"},l.a.createElement("div",null),l.a.createElement("div",null))),l.a.createElement("li",null,l.a.createElement("div",{className:"skeleton-loader__avatar"}),l.a.createElement("div",{className:"skeleton-loader__text"},l.a.createElement("div",null),l.a.createElement("div",null))),l.a.createElement("li",null,l.a.createElement("div",{className:"skeleton-loader__avatar"}),l.a.createElement("div",{className:"skeleton-loader__text"},l.a.createElement("div",null),l.a.createElement("div",null)))))}),Ve=a(409),Ae=a.n(Ve),Ue=l.a.memo((function(e){var t=e.children,a=e.error,r=void 0!==a&&a,c=e.loading,i=e.onCreateChannel,s=Object(E.c)(),o=s.client,u=s.setActiveChannel,m=o.user||{},d=m.id,p=m.image,g=void 0===p?Ae.a:p,_=m.name,b=void 0===_?"Example User":_;Object(n.useEffect)((function(){var e,a,n=function(){var e=Object(v.a)(h.a.mark((function e(t){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.channel("messaging","first",{name:"Social Demo"}),e.next=3,a.watch();case 3:return e.next=5,a.addMembers([t.user.id]);case 5:u(a);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();c||(null===t||void 0===t||null===(e=t.props)||void 0===e||null===(a=e.children)||void 0===a?void 0:a.length)||n(o)}),[c]);var w=function(e){var t=e.children;return l.a.createElement("div",{className:"messaging__channel-list"},l.a.createElement("div",{className:"messaging__channel-list__header"},l.a.createElement(f.a,{image:g,name:b,size:40}),l.a.createElement("div",{className:"messaging__channel-list__header__name"},b||d),l.a.createElement("button",{className:"messaging__channel-list__header__button",onClick:i},l.a.createElement(Ee,null))),t)};return r?l.a.createElement(w,null,l.a.createElement("div",{className:"messaging__channel-list__message"},"Error loading conversations, please try again momentarily.")):c?l.a.createElement(w,null,l.a.createElement("div",{className:"messaging__channel-list__message"},l.a.createElement(He,null))):l.a.createElement(w,null,t)})),qe=(a(787),function(e){var t=e.channel,a=e.latestMessage,r=e.setActiveChannel,c=e.setIsCreating,i=Object(n.useContext)(E.a),s=i.channel,o=i.client,u=Object.values(t.state.members).filter((function(e){return e.user.id!==o.userID}));return l.a.createElement("div",{className:(null===t||void 0===t?void 0:t.id)===(null===s||void 0===s?void 0:s.id)?"channel-preview__container selected":"channel-preview__container",onClick:function(){c(!1),r(t)}},function(e){return 1===e.length?l.a.createElement(f.a,{image:ye(e[0]),size:40}):2===e.length?l.a.createElement("div",{className:"channel-preview__avatars two"},l.a.createElement("span",null,l.a.createElement(f.a,{image:ye(e[0]),shape:"square",size:40})),l.a.createElement("span",null,l.a.createElement(f.a,{image:ye(e[1]),shape:"square",size:40}))):3===e.length?l.a.createElement("div",{className:"channel-preview__avatars three"},l.a.createElement("span",null,l.a.createElement(f.a,{image:ye(e[0]),shape:"square",size:40})),l.a.createElement("span",null,l.a.createElement(f.a,{image:ye(e[1]),shape:"square",size:20}),l.a.createElement(f.a,{image:ye(e[2]),shape:"square",size:20}))):e.length>=4?l.a.createElement("div",{className:"channel-preview__avatars"},l.a.createElement("span",null,l.a.createElement(f.a,{image:ye(e[e.length-1]),shape:"square",size:20}),l.a.createElement(f.a,{image:ye(e[e.length-2]),shape:"square",size:20})),l.a.createElement("span",null,l.a.createElement(f.a,{image:ye(e[e.length-3]),shape:"square",size:20}),l.a.createElement(f.a,{image:ye(e[e.length-4]),shape:"square",size:20}))):null}(u),l.a.createElement("div",{className:"channel-preview__content-wrapper"},l.a.createElement("div",{className:"channel-preview__content-top"},l.a.createElement("p",{className:"channel-preview__content-name"},t.data.name||function(e){var t,a,n;return e.length&&1!==e.length?"".concat((null===(t=e[0])||void 0===t?void 0:t.user.name)||"Johnny Blaze",", ").concat((null===(a=e[1])||void 0===a?void 0:a.user.name)||"Johnny Blaze"):(null===(n=e[0])||void 0===n?void 0:n.user.name)||"Johnny Blaze"}(u)),l.a.createElement("p",{className:"channel-preview__content-time"},function(e){var t,a,n=null===(t=e.state.last_message_at)||void 0===t?void 0:t.getHours(),l=null===(a=e.state.last_message_at)||void 0===a?void 0:a.getMinutes(),r="AM";return void 0===n||void 0===l?"":(n>12&&(n-=12,r="PM"),0===n&&(n=12),12===n&&(r="PM"),1===l.toString().length&&(l="0".concat(l)),"".concat(n,":").concat(l," ").concat(r))}(t))),l.a.createElement("p",{className:"channel-preview__content-message"},a||"Send a message")))}),Be=a(26),Pe=a(31),Te=a(106),Je=a(109),De=a(107),Fe=(a(788),function(){return l.a.createElement("div",{className:"giphy-icon__wrapper"},l.a.createElement(we,null),l.a.createElement("p",{className:"giphy-icon__text"},"GIPHY"))}),Ge=l.a.memo((function(){var e=Object(n.useContext)(gt),t=e.giphyState,a=e.setGiphyState,r=Object(Se.b)(),c=r.acceptedFiles,i=r.maxNumberOfFiles,s=r.multipleUploads,o=Object(Pe.b)(),u=Object(n.useCallback)((function(e){var n,l=e.target.value,r="deleteContentBackward"===(null===(n=e.nativeEvent)||void 0===n?void 0:n.inputType);1===o.text.length&&r&&a(!1),t||!o.text.startsWith("/giphy")||o.numberOfUploads||(e.target.value=l.replace("/giphy",""),a(!0)),o.handleChange(e)}),[t,o.numberOfUploads,o.text]);return l.a.createElement("div",{className:"str-chat__messaging-input"},l.a.createElement("div",{className:"messaging-input__button emoji-button",role:"button","aria-roledescription":"button",onClick:o.openEmojiPicker,ref:o.emojiPickerRef},l.a.createElement(_e,null)),l.a.createElement(Be.d,{accept:c,handleFiles:o.uploadNewFiles,multiple:s,disabled:void 0!==i&&o.numberOfUploads>=i||t},l.a.createElement("div",{className:"messaging-input__input-wrapper"},t&&!o.numberOfUploads&&l.a.createElement(Fe,null),l.a.createElement(Te.a,null),l.a.createElement(Je.a,{onChange:u,rows:1,placeholder:"Send a message"}))),l.a.createElement("div",{className:"messaging-input__button",role:"button","aria-roledescription":"button",onClick:o.handleSubmit},l.a.createElement(Ce,null)),l.a.createElement(De.a,null))})),$e=(a(789),function(e){var t=e.closeThread,a=e.thread;return l.a.createElement("div",{className:"custom-thread-header"},l.a.createElement("div",{className:"custom-thread-header__left"},l.a.createElement("p",{className:"custom-thread-header__left-title"},"Thread"),l.a.createElement("p",{className:"custom-thread-header__left-count"},(null===a||void 0===a?void 0:a.reply_count)?1===a.reply_count?"1 reply":"".concat(a.reply_count," Replies"):"")),l.a.createElement(fe,{closeThread:t}))}),Ke=(a(790),a(69)),We=a(21),Xe=a(915),Ye=a(423),Qe=a(421),et=a(920),tt=function(e){var t=e.theme,a=e.toggleMobile,r=Object(n.useContext)(gt),c=r.giphyState,i=r.setGiphyState,o=Object(We.b)().sendMessage;return l.a.createElement(l.a.Fragment,null,l.a.createElement(Xe.a,null,l.a.createElement(Ze,{theme:t,toggleMobile:a}),l.a.createElement(Ye.a,{messageActions:["delete","edit","flag","mute","react","reply"]}),l.a.createElement(Qe.a,{focus:!0,overrideSubmitHandler:function(e){var t,a,n;if((null===(t=e.attachments)||void 0===t?void 0:t.length)&&(null===(a=e.text)||void 0===a?void 0:a.startsWith("/giphy"))){var l=e.text.replace("/giphy","");n=Object(Ke.a)(Object(Ke.a)({},e),{},{text:l})}if(c){var r="/giphy ".concat(e.text);n=Object(Ke.a)(Object(Ke.a)({},e),{},{text:r})}if(o){var u,m,d,p=n||e,g=p.parent,h=Object(Ke.a)(Object(Ke.a)({},p),{},{parent:g?Object(Ke.a)(Object(Ke.a)({},g),{},{created_at:null===(u=g.created_at)||void 0===u?void 0:u.toString(),pinned_at:null===(m=g.pinned_at)||void 0===m?void 0:m.toString(),updated_at:null===(d=g.updated_at)||void 0===d?void 0:d.toString()}):void 0}),v=o(h);Object(s.b)(v,"send message")}i(!1)}})),l.a.createElement(et.a,{Input:Ge}))},at=new URLSearchParams(window.location.search),nt=at.get("apikey")||"dz5f4d5kzrue",lt=at.get("user")||"daddy-dan",rt=at.get("user_token")||"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoiZGFkZHktZGFuIn0.59VB8bPAtojkl5NjUY0OA5zK4CoOdafQmchbVeJb2rg",ct=at.get("target_origin")||Object({NODE_ENV:"production",PUBLIC_URL:".",REACT_APP_STREAM_KEY:"dz5f4d5kzrue",REACT_APP_USER_ID:"daddy-dan",REACT_APP_USER_TOKEN:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoiZGFkZHktZGFuIn0.59VB8bPAtojkl5NjUY0OA5zK4CoOdafQmchbVeJb2rg"}).REACT_APP_TARGET_ORIGIN,it=at.get("no_channel_name_filter")||!1,st=at.get("skip_name_image_set")||!1,ot=it?{type:"messaging",members:{$in:[lt]}}:{type:"messaging",name:"Social Demo"},ut={state:!0,watch:!0,presence:!0,limit:8},mt={last_message_at:-1,updated_at:-1,cid:1},dt={id:lt,name:lt,image:Ne()};st&&(delete dt.name,delete dt.image);var pt=s.a.getInstance(nt);pt.connectUser(dt,rt);var gt=l.a.createContext({}),ht=function(){var e=Object(n.useState)(!1),t=Object(i.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(!1),s=Object(i.a)(c,2),p=s[0],g=s[1],h=Object(n.useState)(!1),v=Object(i.a)(h,2),f=v[0],E=v[1],_=Object(n.useState)("dark"),b=Object(i.a)(_,2),w=b[0],C=b[1];d(pt,ct),Object(n.useEffect)((function(){var e=function(e){var t=e.data;e.origin===ct&&("light"!==t&&"dark"!==t||C(t))};return window.addEventListener("message",e),function(){return window.removeEventListener("message",e)}}),[]),Object(n.useEffect)((function(){var e=document.querySelector("#mobile-channel-list");f&&e?(e.classList.add("show"),document.body.style.overflow="hidden"):!f&&e&&(e.classList.remove("show"),document.body.style.overflow="auto")}),[f]),Object(n.useEffect)((function(){var e=function(){document.documentElement.style.setProperty("--app-height","".concat(window.innerHeight,"px"))};return e(),window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]);var j=function(){return E(!f)},x={giphyState:a,setGiphyState:r};return l.a.createElement(o.a,{client:pt,theme:"messaging ".concat(w)},l.a.createElement("div",{id:"mobile-channel-list",onClick:j},l.a.createElement(u.a,{filters:ot,sort:mt,options:ut,List:function(e){return l.a.createElement(Ue,Object.assign({},e,{onCreateChannel:function(){return g(!p)}}))},Preview:function(e){return l.a.createElement(qe,Object.assign({},e,{setIsCreating:g}))}})),l.a.createElement("div",null,l.a.createElement(m.a,{Input:Ge,maxNumberOfFiles:10,Message:Re,multipleUploads:!0,ThreadHeader:$e,TypingIndicator:function(){return null}},p&&l.a.createElement(Le,{toggleMobile:j,onClose:function(){return g(!1)}}),l.a.createElement(gt.Provider,{value:x},l.a.createElement(tt,{theme:w,toggleMobile:j})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(l.a.createElement(ht,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[433,1,2]]]);
//# sourceMappingURL=main.7847b063.chunk.js.map