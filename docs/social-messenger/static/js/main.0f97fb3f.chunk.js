(this.webpackJsonpmessaging=this.webpackJsonpmessaging||[]).push([[0],{342:function(e,t,a){e.exports=a(764)},753:function(e,t,a){},754:function(e,t,a){},755:function(e,t,a){},756:function(e,t,a){},757:function(e,t,a){},758:function(e,t,a){},759:function(e,t,a){e.exports=a.p+"static/media/stream.ce7bf370.png"},760:function(e,t,a){},761:function(e,t,a){},762:function(e,t,a){},763:function(e,t,a){},764:function(e,t,a){"use strict";a.r(t);a(343),a(354);var n=a(0),l=a.n(n),r=a(51),i=a.n(r),c=a(34),s=a(32),o=a(10),u=(a(752),a(753),a(200)),m=a(71),d=a.n(m),v=a(108),g=a(88),h=a.n(g),p=function(e){var t=e.isEditing,a=e.setIsEditing;return l.a.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{cursor:"pointer",marginLeft:"16px"},onClick:function(){t||a(!0)}},l.a.createElement("path",{d:"M12 2C17.52 2 22 6.48 22 12C22 17.52 17.52 22 12 22C6.48 22 2 17.52 2 12C2 6.48 6.48 2 12 2Z",fill:"#858688"}),l.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13 8L13 6H11V8H13ZM13 10H11V18H13V10Z",fill:"white"}))},f=function(){return l.a.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{cursor:"pointer",marginLeft:"16px"}},l.a.createElement("path",{d:"M12 2C17.52 2 22 6.48 22 12C22 17.52 17.52 22 12 22C6.48 22 2 17.52 2 12C2 6.48 6.48 2 12 2Z",fill:"#858688"}),l.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16.3875 7.73454C15.9092 7.4584 15.2977 7.62228 15.0215 8.10057L11.3573 14.4472L8.62166 11.7116C8.23113 11.3211 7.59797 11.3211 7.20744 11.7116C6.81692 12.1022 6.81692 12.7353 7.20744 13.1259L10.8123 16.7307C10.8303 16.7487 10.8488 16.7658 10.8677 16.7821C10.9278 16.8418 10.9965 16.8948 11.0732 16.9392C11.5515 17.2153 12.1631 17.0514 12.4393 16.5731L16.7536 9.10057C17.0297 8.62228 16.8658 8.01069 16.3875 7.73454Z",fill:"white"}))},E=function(e){var t=e.closeThread;return l.a.createElement("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg",onClick:function(e){return t(e)},style:{cursor:"pointer",marginRight:"10px"}},l.a.createElement("path",{d:"M0 20C0 8.95431 8.95431 0 20 0C31.0457 0 40 8.95431 40 20C40 31.0457 31.0457 40 20 40C8.95431 40 0 31.0457 0 20Z",fill:"#3E3E41"}),l.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M27.5625 25.4416L22.1208 20L27.5625 14.5583C28.15 13.9708 28.15 13.025 27.5625 12.4375C26.975 11.85 26.0291 11.85 25.4416 12.4375L20 17.8791L14.5583 12.4375C13.9708 11.85 13.025 11.85 12.4375 12.4375C11.85 13.025 11.85 13.9708 12.4375 14.5583L17.8791 20L12.4375 25.4416C11.85 26.0291 11.85 26.975 12.4375 27.5625C13.025 28.15 13.9708 28.15 14.5583 27.5625L20 22.1208L25.4416 27.5625C26.0291 28.15 26.975 28.15 27.5625 27.5625C28.1458 26.975 28.1458 26.025 27.5625 25.4416Z",fill:"#E9E9EA"}))},_=function(){return l.a.createElement("svg",{width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"},l.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18 17.9708H0V13.7278L13.435 0.292787C13.8255 -0.0975955 14.4585 -0.0975955 14.849 0.292787L17.678 3.12179C18.0684 3.51229 18.0684 4.14529 17.678 4.53579L6.243 15.9708H18V17.9708ZM2 15.9708H3.414L12.728 6.65679L11.314 5.24279L2 14.5568V15.9708ZM15.556 3.82879L14.142 5.24279L12.728 3.82879L14.142 2.41479L15.556 3.82879Z",fill:"#E9E9EA"}))},b=function(){return l.a.createElement("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},l.a.createElement("g",null,l.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10 2C5.58172 2 2 5.58172 2 10C2 14.4183 5.58172 18 10 18C14.4183 18 18 14.4183 18 10C18 5.58172 14.4183 2 10 2ZM0 10C0 4.47715 4.47715 0 10 0C15.5228 0 20 4.47715 20 10C20 15.5228 15.5228 20 10 20C4.47715 20 0 15.5228 0 10Z"}),l.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9 7.5C9 8.32843 8.32843 9 7.5 9C6.67157 9 6 8.32843 6 7.5C6 6.67157 6.67157 6 7.5 6C8.32843 6 9 6.67157 9 7.5Z"}),l.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14 7.5C14 8.32843 13.3284 9 12.5 9C11.6716 9 11 8.32843 11 7.5C11 6.67157 11.6716 6 12.5 6C13.3284 6 14 6.67157 14 7.5Z"}),l.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.42662 11.1808C5.87907 10.8641 6.5026 10.9741 6.81932 11.4266C7.30834 12.1252 8.21252 12.9219 9.29096 13.1459C10.275 13.3503 11.6411 13.1262 13.2568 11.3311C13.6263 10.9206 14.2585 10.8873 14.6691 11.2567C15.0796 11.6262 15.1128 12.2585 14.7434 12.669C12.759 14.8738 10.7085 15.4831 8.88421 15.1041C7.15432 14.7448 5.8585 13.5415 5.18085 12.5735C4.86414 12.121 4.97417 11.4975 5.42662 11.1808Z"})))},w=function(){return l.a.createElement("svg",{width:"6",height:"12",viewBox:"0 0 6 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},l.a.createElement("path",{d:"M2.75749 0.666626H5.66659L3.72719 4.54541H5.66659L2.03022 11.3333L2.75749 6.48481H0.333252L2.75749 0.666626Z",fill:"white"}))},C=function(){return l.a.createElement("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},l.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20 10C20 4.48 15.52 0 10 0C4.48 0 0 4.48 0 10C0 15.52 4.48 20 10 20C15.52 20 20 15.52 20 10ZM6 9H10V6L14 10L10 14V11H6V9Z",fill:"white"}))},O=function(){return l.a.createElement("svg",{width:"10",height:"10",viewBox:"0 0 10 10",fill:"none",xmlns:"http://www.w3.org/2000/svg"},l.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.72472 8.39971L6.325 5L9.72472 1.60029C10.0918 1.23324 10.0918 0.642327 9.72472 0.275283C9.35767 -0.091761 8.76676 -0.091761 8.39971 0.275283L5 3.675L1.60029 0.275283C1.23324 -0.091761 0.642327 -0.091761 0.275283 0.275283C-0.091761 0.642327 -0.091761 1.23324 0.275283 1.60029L3.675 5L0.275283 8.39971C-0.091761 8.76676 -0.091761 9.35767 0.275283 9.72472C0.642327 10.0918 1.23324 10.0918 1.60029 9.72472L5 6.325L8.39971 9.72472C8.76676 10.0918 9.35767 10.0918 9.72472 9.72472C10.0892 9.35767 10.0892 8.76415 9.72472 8.39971Z",fill:"white"}))},j=(a(754),function(e){var t=e.user;return l.a.createElement("li",{className:"messaging-create-channel__user-result"},l.a.createElement(o.a,{image:t.image,size:40}),t.online&&l.a.createElement("div",{className:"messaging-create-channel__user-result-online"}),l.a.createElement("div",{className:"messaging-create-channel__user-result__details"},l.a.createElement("span",null,t.name)))}),x=l.a.memo((function(e){var t=e.onClose,a=Object(n.useContext)(o.g),r=a.client,i=a.setActiveChannel,s=Object(n.useState)(void 0),m=Object(c.a)(s,2),g=m[0],p=m[1],f=Object(n.useState)(""),E=Object(c.a)(f,2),_=E[0],b=E[1],w=Object(n.useState)(!1),C=Object(c.a)(w,2),x=C[0],N=C[1],L=Object(n.useState)(!1),y=Object(c.a)(L,2),k=y[0],R=y[1],M=Object(n.useState)(!1),S=Object(c.a)(M,2),z=S[0],I=S[1],Z=Object(n.useState)([]),q=Object(c.a)(Z,2),U=q[0],H=q[1],B=Object(n.useState)([]),F=Object(c.a)(B,2),V=F[0],T=F[1],P=Object(n.useRef)(),J=function(){b(""),N(!1),R(!1)};Object(n.useEffect)((function(){var e=function(){x&&J()};return document.addEventListener("click",e),function(){return document.removeEventListener("click",e)}}),[]);var A=function(){var e=Object(v.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!z){e.next=2;break}return e.abrupt("return");case 2:return I(!0),e.prev=3,e.next=6,r.queryUsers({name:{$autocomplete:_}},{id:1},{limit:6});case 6:(t=e.sent).users.length?(R(!1),T(t.users)):R(!0),N(!0),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),console.log({error:e.t0});case 14:I(!1);case 15:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(){return e.apply(this,arguments)}}(),D=h()(A,100,{trailing:!0});Object(n.useEffect)((function(){_&&D()}),[_]);var X=function(){var e=Object(v.a)(d.a.mark((function e(){var a,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((a=U.map((function(e){return e.id}))).length){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,r.channel("messaging",{members:[].concat(Object(u.a)(a),[r.userID])});case 5:return n=e.sent,e.next=8,n.watch();case 8:i(n),H([]),T([]),t();case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),W=function(e){U.find((function(t){return t.id===e.id}))||(H([].concat(Object(u.a)(U),[e])),N(!1),b(""),P.current.focus())},$=Object(n.useCallback)((function(e){if(console.log({focusedUser:g}),38===e.which&&p((function(e){return void 0===e?0:0===e?V.length-1:e-1})),40===e.which&&p((function(e){return void 0===e||e===V.length-1?0:e+1})),13===e.which&&(e.preventDefault(),void 0!==g))return W(V[g]),p(void 0)}),[V,g]);return Object(n.useEffect)((function(){return document.addEventListener("keydown",$,!1),function(){return document.removeEventListener("keydown",$)}}),[$]),l.a.createElement("div",{className:"messaging-create-channel"},l.a.createElement("header",null,l.a.createElement("div",{className:"messaging-create-channel__left"},l.a.createElement("div",{className:"messaging-create-channel__left-text"},"To: "),!!(null===U||void 0===U?void 0:U.length)&&l.a.createElement("div",{className:"messaging-create-channel__users"},U.map((function(e){return l.a.createElement("div",{className:"messaging-create-channel__user",onClick:function(){return function(e){var t=U.filter((function(t){return t.id!==e.id}));H(t),P.current.focus()}(e)},key:e.id},l.a.createElement("div",{className:"messaging-create-channel__user-text"},e.name),l.a.createElement(O,null))}))),l.a.createElement("form",{onSubmit:W},l.a.createElement("input",{autoFocus:!0,ref:P,value:_,onChange:function(e){return b(e.target.value)},placeholder:U.length?"":"Start typing for suggestions",type:"text",className:"messaging-create-channel__input"}))),l.a.createElement("button",{className:"create-channel-button",onClick:X},"Start chat")),_&&l.a.createElement("main",null,l.a.createElement("ul",{className:"messaging-create-channel__user-results"},!!(null===V||void 0===V?void 0:V.length)&&!k&&l.a.createElement("div",null,V.map((function(e,t){return l.a.createElement("div",{className:"messaging-create-channel__user-result ".concat(g===t&&"focused"),onClick:function(){return W(e)},key:e.id},l.a.createElement(j,{user:e}))}))),k&&l.a.createElement("div",{onClick:function(){P.current.focus(),J()},className:"messaging-create-channel__user-result empty"},"No people found..."))))})),N=(a(755),function(e){return l.a.createElement(l.a.Fragment,null,l.a.createElement(o.k,e))}),L=(a(756),a(757),function(){var e=Object(n.useContext)(o.c),t=e.client,a=e.typing;if(!t||!a)return null;var r=Object.values(a).filter((function(e){var a,n=e.user;return(null===n||void 0===n?void 0:n.id)!==(null===(a=t.user)||void 0===a?void 0:a.id)})).map((function(e){var t=e.user;return t.name||t.id})),i="";return 1===r.length?i="".concat(r[0]," is typing"):2===r.length?i="".concat(r[0]," and ").concat(r[1]," are typing"):r.length>2&&(i="".concat(r[0]," and ").concat(r.length-1," more are typing")),l.a.createElement("div",{className:"messaging__typing-indicator"},i&&l.a.createElement("div",{className:"dots"},l.a.createElement("span",{className:"dot"}),l.a.createElement("span",{className:"dot"}),l.a.createElement("span",{className:"dot"})),l.a.createElement("div",null,i))}),y=l.a.memo((function(){var e,t=Object(n.useContext)(o.c),a=t.channel,r=t.client,i=Object(n.useState)((null===a||void 0===a?void 0:a.data.name)||""),s=Object(c.a)(i,2),u=s[0],m=s[1],g=Object(n.useState)(!1),h=Object(c.a)(g,2),E=h[0],_=h[1],b=Object(n.useState)(""),w=Object(c.a)(b,2),C=w[0],O=w[1],j=Object(n.useRef)(),x=Object.values((null===(e=a.state)||void 0===e?void 0:e.members)||{}).filter((function(e){var t,a;return(null===(t=e.user)||void 0===t?void 0:t.id)!==(null===r||void 0===r||null===(a=r.user)||void 0===a?void 0:a.id)})),N=function(){var e=Object(v.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&t.preventDefault(),!u||u===a.data.name){e.next=4;break}return e.next=4,a.update({name:u},{text:"Channel name changed to ".concat(u)});case 4:_(!1);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){E&&j.current&&j.current.focus()}),[E]),Object(n.useEffect)((function(){u||O(x.map((function(e){var t,a;return(null===(t=e.user)||void 0===t?void 0:t.name)||(null===(a=e.user)||void 0===a?void 0:a.id)||"Unnamed User"})).join(", "))}),[u,x]);var y=function(){return l.a.createElement("form",{style:{flex:1},onSubmit:function(e){e.preventDefault(),j.current.blur()}},l.a.createElement("input",{autoFocus:!0,className:"channel-header__edit-input",onBlur:N,onChange:function(e){return m(e.target.value)},placeholder:"Type a new name for the chat",ref:j,value:u}))};return l.a.createElement("div",{className:"messaging__channel-header"},function(e){var t,a,n,r,i,c,s,u,m,d;return 1===e.length?l.a.createElement("div",{className:"messaging__channel-header__avatars"},l.a.createElement(o.a,{image:(null===(t=e[0])||void 0===t?void 0:t.user.image)||void 0,size:40}),";"):2===e.length?l.a.createElement("div",{className:"messaging__channel-header__avatars two"},l.a.createElement("span",null,l.a.createElement(o.a,{image:(null===(a=e[0])||void 0===a?void 0:a.user.image)||void 0,shape:"square",size:40})),l.a.createElement("span",null,l.a.createElement(o.a,{image:(null===(n=e[1])||void 0===n?void 0:n.user.image)||void 0,shape:"square",size:40}))):3===e.length?l.a.createElement("div",{className:"messaging__channel-header__avatars three"},l.a.createElement("span",null,l.a.createElement(o.a,{image:(null===(r=e[0])||void 0===r?void 0:r.user.image)||void 0,shape:"square",size:40})),l.a.createElement("span",null,l.a.createElement(o.a,{image:(null===(i=e[1])||void 0===i?void 0:i.user.image)||void 0,shape:"square",size:20}),l.a.createElement(o.a,{image:(null===(c=e[2])||void 0===c?void 0:c.user.image)||void 0,shape:"square",size:20}))):e.length>=4?l.a.createElement("div",{className:"messaging__channel-header__avatars four"},l.a.createElement("span",null,l.a.createElement(o.a,{image:(null===(s=e[0])||void 0===s?void 0:s.user.image)||void 0,shape:"square",size:20}),l.a.createElement(o.a,{image:(null===(u=e[1])||void 0===u?void 0:u.user.image)||void 0,shape:"square",size:20})),l.a.createElement("span",null,l.a.createElement(o.a,{image:(null===(m=e[2])||void 0===m?void 0:m.user.image)||void 0,shape:"square",size:20}),l.a.createElement(o.a,{image:(null===(d=e[3])||void 0===d?void 0:d.user.image)||void 0,shape:"square",size:20}))):null}(x),E?l.a.createElement(y,null):l.a.createElement("div",{className:"channel-header__name"},u||C),l.a.createElement("div",{className:"messaging__channel-header__right"},l.a.createElement(L,null),E?l.a.createElement(f,null):l.a.createElement(p,{isEditing:E,setIsEditing:_})))})),k=(a(758),l.a.memo((function(e){var t=e.children,r=e.error,i=void 0!==r&&r,c=e.loading,s=e.onCreateChannel,u=Object(n.useContext)(o.g).client.user||{},m=u.id,d=u.image,v=void 0===d?a(759):d,g=u.name,h=void 0===g?"Example User":g,p=function(e){var t=e.children;return l.a.createElement("div",{className:"messaging__channel-list"},l.a.createElement("div",{className:"messaging__channel-list__header"},l.a.createElement(o.a,{image:v,name:h,size:40}),l.a.createElement("div",{className:"messaging__channel-list__header__name"},h||m),l.a.createElement("button",{className:"messaging__channel-list__header__button",onClick:s},l.a.createElement(_,null))),t)};return i?l.a.createElement(p,null,l.a.createElement("div",{className:"messaging__channel-list__message"},"Error loading conversations, please try again momentarily.")):c?l.a.createElement(p,null,l.a.createElement("div",{className:"messaging__channel-list__message"},"Loading conversations...")):l.a.createElement(p,null,t)}))),R=(a(760),function(e){var t=e.channel,a=e.latestMessage,r=e.setActiveChannel,i=e.setIsCreating,c=Object(n.useContext)(o.g),s=c.channel,u=c.client,m=Object.values(t.state.members).filter((function(e){return e.user.id!==u.userID}));return l.a.createElement("div",{className:(null===t||void 0===t?void 0:t.id)===(null===s||void 0===s?void 0:s.id)?"channel-preview__container selected":"channel-preview__container",onClick:function(){i(!1),r(t)}},function(e){var t,a,n,r,i,c,s,u,m,d;return 1===e.length?l.a.createElement(o.a,{image:(null===(t=e[0])||void 0===t?void 0:t.user.image)||void 0,size:40}):2===e.length?l.a.createElement("div",{className:"channel-preview__avatars two"},l.a.createElement("span",null,l.a.createElement(o.a,{image:(null===(a=e[0])||void 0===a?void 0:a.user.image)||void 0,shape:"square",size:40})),l.a.createElement("span",null,l.a.createElement(o.a,{image:(null===(n=e[1])||void 0===n?void 0:n.user.image)||void 0,shape:"square",size:40}))):3===e.length?l.a.createElement("div",{className:"channel-preview__avatars three"},l.a.createElement("span",null,l.a.createElement(o.a,{image:(null===(r=e[0])||void 0===r?void 0:r.user.image)||void 0,shape:"square",size:40})),l.a.createElement("span",null,l.a.createElement(o.a,{image:(null===(i=e[1])||void 0===i?void 0:i.user.image)||void 0,shape:"square",size:20}),l.a.createElement(o.a,{image:(null===(c=e[2])||void 0===c?void 0:c.user.image)||void 0,shape:"square",size:20}))):e.length>=4?l.a.createElement("div",{className:"channel-preview__avatars"},l.a.createElement("span",null,l.a.createElement(o.a,{image:(null===(s=e[0])||void 0===s?void 0:s.user.image)||void 0,shape:"square",size:20}),l.a.createElement(o.a,{image:(null===(u=e[1])||void 0===u?void 0:u.user.image)||void 0,shape:"square",size:20})),l.a.createElement("span",null,l.a.createElement(o.a,{image:(null===(m=e[2])||void 0===m?void 0:m.user.image)||void 0,shape:"square",size:20}),l.a.createElement(o.a,{image:(null===(d=e[3])||void 0===d?void 0:d.user.image)||void 0,shape:"square",size:20}))):null}(m),l.a.createElement("div",{className:"channel-preview__content-wrapper"},l.a.createElement("div",{className:"channel-preview__content-top"},l.a.createElement("p",{className:"channel-preview__content-name"},t.data.name||function(e){var t,a,n;return e.length&&1!==e.length?"".concat((null===(t=e[0])||void 0===t?void 0:t.user.name)||"Johnny Blaze",", ").concat((null===(a=e[1])||void 0===a?void 0:a.user.name)||"Johnny Blaze"):(null===(n=e[0])||void 0===n?void 0:n.user.name)||"Johnny Blaze"}(m)),l.a.createElement("p",{className:"channel-preview__content-time"},function(e){var t,a,n=null===(t=e.state.last_message_at)||void 0===t?void 0:t.getHours(),l=null===(a=e.state.last_message_at)||void 0===a?void 0:a.getMinutes(),r="AM";return void 0===n||void 0===l?"":(n>12&&(n-=12,r="PM"),0===n&&(n=12),12===n&&(r="PM"),1===l.toString().length&&(l="0".concat(l)),"".concat(n,":").concat(l," ").concat(r))}(t))),l.a.createElement("p",{className:"channel-preview__content-message"},a||"Send a message")))}),M=a(75),S=a(29),z=(a(761),function(e){var t=e.fileOrder,a=e.fileUploads,r=e.imageOrder,i=e.imageUploads,c=e.numberOfUploads,s=e.removeFile,u=e.removeImage,m=e.uploadFile,d=e.uploadImage,v=e.uploadNewFiles,g=Object(n.useContext)(o.c);return l.a.createElement(l.a.Fragment,null,r.length>0&&l.a.createElement(S.e,{imageUploads:r.map((function(e){return i[e]})),handleRemove:u,handleRetry:d,handleFiles:v,multiple:g.multipleUploads,disabled:void 0!==g.maxNumberOfFiles&&c>=g.maxNumberOfFiles}),t.length>0&&l.a.createElement(S.b,{uploads:t.map((function(e){return a[e]})),handleRemove:s,handleRetry:m,handleFiles:v}))}),I=function(){return l.a.createElement("div",{className:"giphy-icon__wrapper"},l.a.createElement(w,null),l.a.createElement("p",{className:"giphy-icon__text"},"GIPHY"))},Z=l.a.memo((function(e){var t=Object(n.useContext)(o.c),a=t.acceptedFiles,r=t.maxNumberOfFiles,i=t.multipleUploads,u=t.sendMessage,m=Object(n.useState)(!1),d=Object(c.a)(m,2),v=d[0],g=d[1],h=Object(o.n)(Object(M.a)(Object(M.a)({},e),{},{overrideSubmitHandler:function(e){var t;if(e.attachments.length&&e.text.startsWith("/giphy")){var a=e.text.replace("/giphy","");t=Object(M.a)(Object(M.a)({},e),{},{text:a})}if(v){var n="/giphy ".concat(e.text);t=Object(M.a)(Object(M.a)({},e),{},{text:n})}var l=u(t||e);Object(s.c)(l,"send message"),g(!1)}})),p=Object(n.useCallback)((function(e){var t,a=e.target.value,n="deleteContentBackward"===(null===(t=e.nativeEvent)||void 0===t?void 0:t.inputType);1===h.text.length&&n&&g(!1),v||!h.text.startsWith("/giphy")||h.numberOfUploads||(e.target.value=a.replace("/giphy",""),g(!0)),h.handleChange(e)}),[v,h]);return l.a.createElement("div",{className:"str-chat__messaging-input"},l.a.createElement("div",{className:"messaging-input__button",role:"button","aria-roledescription":"button",onClick:h.openEmojiPicker,ref:h.emojiPickerRef},l.a.createElement(b,null)),l.a.createElement(S.d,{accept:a,handleFiles:h.uploadNewFiles,multiple:i,disabled:void 0!==r&&h.numberOfUploads>=r||v},l.a.createElement("div",{className:"messaging-input__input-wrapper"},v&&!h.numberOfUploads&&l.a.createElement(I,null),l.a.createElement(z,h),l.a.createElement(o.f,{commands:h.getCommands(),innerRef:h.textareaRef,handleSubmit:h.handleSubmit,onSelectItem:h.onSelectItem,onChange:p,value:h.text,rows:1,maxRows:e.maxRows,placeholder:"Send a message",onPaste:h.onPaste,triggers:e.autocompleteTriggers,grow:e.grow,disabled:e.disabled,additionalTextareaProps:e.additionalTextareaProps}))),l.a.createElement("div",{className:"messaging-input__button",role:"button","aria-roledescription":"button",onClick:h.handleSubmit},l.a.createElement(C,null)),l.a.createElement(o.h,h))})),q=(a(762),function(e){var t=e.closeThread,a=e.thread;return l.a.createElement("div",{className:"custom-thread-header"},l.a.createElement("div",{className:"custom-thread-header__left"},l.a.createElement("p",{className:"custom-thread-header__left-title"},"Thread"),l.a.createElement("p",{className:"custom-thread-header__left-count"},(null===a||void 0===a?void 0:a.reply_count)?1===a.reply_count?"1 reply":"".concat(a.reply_count," Replies"):"")),l.a.createElement(E,{closeThread:t}))}),U=function(){return l.a.createElement(o.l,{Message:N,MessageInput:Z,ThreadHeader:q})},H=(a(763),new URLSearchParams(window.location.search)),B=H.get("apikey")||"qk4nn7rpcn75",F=H.get("user")||"example-user",V=H.get("user_token")||"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoiZXhhbXBsZS11c2VyIn0.HlC0dMKL43y3K_XbfvQS_Yc3V314HU4Z7LrBLil777g",T={type:"messaging",members:{$in:[F]}},P={state:!0,watch:!0,presence:!0,limit:8},J={last_message_at:-1,updated_at:-1,cid:1},A=function(e,t){t(e.data)},D=new s.b(B);D.setUser({id:F},V);var X=function(){var e=Object(n.useState)(!1),t=Object(c.a)(e,2),a=t[0],r=t[1],i=Object(n.useState)("dark"),s=Object(c.a)(i,2),u=s[0],m=s[1];return Object(n.useEffect)((function(){return window.addEventListener("message",(function(e){return A(e,m)})),function(){return window.removeEventListener("message",(function(e){return A(e,m)}))}}),[]),l.a.createElement("div",null,l.a.createElement(o.e,{client:D,theme:"messaging ".concat(u)},l.a.createElement(o.d,{filters:T,sort:J,options:P,List:function(e){return l.a.createElement(k,Object.assign({},e,{onCreateChannel:function(){return r(!a)}}))},Preview:function(e){return l.a.createElement(R,Object.assign({},e,{setIsCreating:r}))}}),l.a.createElement(o.b,{maxNumberOfFiles:10,multipleUploads:!0},a&&l.a.createElement(x,{onClose:function(){return r(!1)}}),l.a.createElement(o.m,null,l.a.createElement(y,null),l.a.createElement(o.j,{Message:N,TypingIndicator:function(){return null}}),l.a.createElement(o.i,{focus:!0,Input:Z})),l.a.createElement(U,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(l.a.createElement(X,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[342,1,2]]]);
//# sourceMappingURL=main.0f97fb3f.chunk.js.map