(this.webpackJsonpmessaging=this.webpackJsonpmessaging||[]).push([[0],{329:function(e,t,a){e.exports=a.p+"static/media/photo-1519345182560-3f2917c472ef.a36389b6.jpeg"},354:function(e,t,a){e.exports=a(779)},745:function(e,t,a){},746:function(e,t,a){e.exports=a.p+"static/media/photo-1438761681033-6461ffad8d80.eee37ee5.jpeg"},747:function(e,t,a){e.exports=a.p+"static/media/photo-1463453091185-61582044d556.a10d0ecf.jpeg"},748:function(e,t,a){e.exports=a.p+"static/media/photo-1503467913725-8484b65b0715.44bc3e89.jpeg"},749:function(e,t,a){e.exports=a.p+"static/media/photo-1506089676908-3592f7389d4d.de96ec3a.jpeg"},750:function(e,t,a){e.exports=a.p+"static/media/photo-1507003211169-0a1dd7228f2d.9bdeb468.jpeg"},751:function(e,t,a){e.exports=a.p+"static/media/photo-1517202383675-eb0a6e27775f.1864b915.jpeg"},752:function(e,t,a){e.exports=a.p+"static/media/photo-1541271696563-3be2f555fc4e.4e84f363.jpeg"},753:function(e,t,a){e.exports=a.p+"static/media/photo-1542345812-d98b5cd6cf98.149796d5.jpeg"},754:function(e,t,a){e.exports=a.p+"static/media/photo-1546539782-6fc531453083.fe0d4222.jpeg"},755:function(e,t,a){e.exports=a.p+"static/media/photo-1546623381-d6d69cd69955.df1d202f.jpeg"},756:function(e,t,a){e.exports=a.p+"static/media/photo-1546820389-44d77e1f3b31.ddd84bce.jpeg"},757:function(e,t,a){e.exports=a.p+"static/media/photo-1548946526-f69e2424cf45.cdd62d22.jpeg"},758:function(e,t,a){e.exports=a.p+"static/media/photo-1549351236-caca0f174515.fd0c1000.jpeg"},759:function(e,t,a){e.exports=a.p+"static/media/photo-1551069613-1904dbdcda11.89f40904.jpeg"},760:function(e,t,a){e.exports=a.p+"static/media/photo-1554384645-13eab165c24b.b980e4f7.jpeg"},761:function(e,t,a){e.exports=a.p+"static/media/photo-1569443693539-175ea9f007e8.78073ccc.jpeg"},762:function(e,t,a){e.exports=a.p+"static/media/photo-1573140247632-f8fd74997d5c.77d2e7a6.jpeg"},763:function(e,t,a){e.exports=a.p+"static/media/photo-1546456073-6712f79251bb.24309ff6.jpeg"},764:function(e,t,a){e.exports=a.p+"static/media/photo-1502378735452-bc7d86632805.94a54b7b.jpeg"},765:function(e,t,a){e.exports=a.p+"static/media/photo-1546967191-fdfb13ed6b1e.1d750cf2.jpeg"},766:function(e,t,a){e.exports=a.p+"static/media/photo-1502937406922-305bb2789e95.edbd0437.jpeg"},767:function(e,t,a){e.exports=a.p+"static/media/photo-1552058544-f2b08422138a.fe0cd750.jpeg"},768:function(e,t,a){e.exports=a.p+"static/media/photo-1531251445707-1f000e1e87d0.07978947.jpeg"},769:function(e,t,a){},770:function(e,t,a){},771:function(e,t,a){},772:function(e,t,a){},773:function(e,t,a){},774:function(e,t,a){e.exports=a.p+"static/media/stream.ce7bf370.png"},775:function(e,t,a){},776:function(e,t,a){},777:function(e,t,a){},778:function(e,t,a){},779:function(e,t,a){"use strict";a.r(t);a(355),a(367);var n=a(0),l=a.n(n),c=a(41),s=a.n(c),r=a(22),i=a(45),o=a(6);const m=(e,t)=>{Object(n.useEffect)(()=>{const a=(n=t,e=>{window.parent.postMessage(e,n)});var n;const l=({type:e,message:t})=>{switch(e){case"reaction.new":a("react-to-message");break;case"message.new":if("giphy"===t.command){a("run-giphy");break}if(t.attachments.length){if("video"===t.attachments[0].type&&"https://youtu.be/Ujvy-DEA-UM"===t.attachments[0].og_scrape_url){a("send-youtube");break}if("image"===t.attachments[0].type){a("drag-drop-image");break}}if(t.parent_id){a("start-thread");break}a("send-message")}};return e&&e.on(l),()=>null===e||void 0===e?void 0:e.off(l)},[e,t])};a(744),a(745);var d=a(42),u=a.n(d),p=a(67),g=a(68),h=a.n(g);const v=({isEditing:e,setIsEditing:t})=>l.a.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{cursor:"pointer",marginLeft:"16px"},onClick:()=>{e||t(!0)}},l.a.createElement("path",{d:"M12 2C17.52 2 22 6.48 22 12C22 17.52 17.52 22 12 22C6.48 22 2 17.52 2 12C2 6.48 6.48 2 12 2Z",fill:"#858688"}),l.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13 8L13 6H11V8H13ZM13 10H11V18H13V10Z",fill:"white"})),E=()=>l.a.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{cursor:"pointer",marginLeft:"16px"}},l.a.createElement("path",{d:"M12 2C17.52 2 22 6.48 22 12C22 17.52 17.52 22 12 22C6.48 22 2 17.52 2 12C2 6.48 6.48 2 12 2Z",fill:"#858688"}),l.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16.3875 7.73454C15.9092 7.4584 15.2977 7.62228 15.0215 8.10057L11.3573 14.4472L8.62166 11.7116C8.23113 11.3211 7.59797 11.3211 7.20744 11.7116C6.81692 12.1022 6.81692 12.7353 7.20744 13.1259L10.8123 16.7307C10.8303 16.7487 10.8488 16.7658 10.8677 16.7821C10.9278 16.8418 10.9965 16.8948 11.0732 16.9392C11.5515 17.2153 12.1631 17.0514 12.4393 16.5731L16.7536 9.10057C17.0297 8.62228 16.8658 8.01069 16.3875 7.73454Z",fill:"white"})),f=({closeThread:e})=>l.a.createElement("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg",onClick:t=>e(t),style:{cursor:"pointer",marginRight:"10px"}},l.a.createElement("path",{d:"M0 20C0 8.95431 8.95431 0 20 0C31.0457 0 40 8.95431 40 20C40 31.0457 31.0457 40 20 40C8.95431 40 0 31.0457 0 20Z",fill:"#3E3E41"}),l.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M27.5625 25.4416L22.1208 20L27.5625 14.5583C28.15 13.9708 28.15 13.025 27.5625 12.4375C26.975 11.85 26.0291 11.85 25.4416 12.4375L20 17.8791L14.5583 12.4375C13.9708 11.85 13.025 11.85 12.4375 12.4375C11.85 13.025 11.85 13.9708 12.4375 14.5583L17.8791 20L12.4375 25.4416C11.85 26.0291 11.85 26.975 12.4375 27.5625C13.025 28.15 13.9708 28.15 14.5583 27.5625L20 22.1208L25.4416 27.5625C26.0291 28.15 26.975 28.15 27.5625 27.5625C28.1458 26.975 28.1458 26.025 27.5625 25.4416Z",fill:"#E9E9EA"})),_=()=>l.a.createElement("svg",{width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"},l.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18 17.9708H0V13.7278L13.435 0.292787C13.8255 -0.0975955 14.4585 -0.0975955 14.849 0.292787L17.678 3.12179C18.0684 3.51229 18.0684 4.14529 17.678 4.53579L6.243 15.9708H18V17.9708ZM2 15.9708H3.414L12.728 6.65679L11.314 5.24279L2 14.5568V15.9708ZM15.556 3.82879L14.142 5.24279L12.728 3.82879L14.142 2.41479L15.556 3.82879Z",fill:"#E9E9EA"})),b=()=>l.a.createElement("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},l.a.createElement("g",null,l.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10 2C5.58172 2 2 5.58172 2 10C2 14.4183 5.58172 18 10 18C14.4183 18 18 14.4183 18 10C18 5.58172 14.4183 2 10 2ZM0 10C0 4.47715 4.47715 0 10 0C15.5228 0 20 4.47715 20 10C20 15.5228 15.5228 20 10 20C4.47715 20 0 15.5228 0 10Z"}),l.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9 7.5C9 8.32843 8.32843 9 7.5 9C6.67157 9 6 8.32843 6 7.5C6 6.67157 6.67157 6 7.5 6C8.32843 6 9 6.67157 9 7.5Z"}),l.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14 7.5C14 8.32843 13.3284 9 12.5 9C11.6716 9 11 8.32843 11 7.5C11 6.67157 11.6716 6 12.5 6C13.3284 6 14 6.67157 14 7.5Z"}),l.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.42662 11.1808C5.87907 10.8641 6.5026 10.9741 6.81932 11.4266C7.30834 12.1252 8.21252 12.9219 9.29096 13.1459C10.275 13.3503 11.6411 13.1262 13.2568 11.3311C13.6263 10.9206 14.2585 10.8873 14.6691 11.2567C15.0796 11.6262 15.1128 12.2585 14.7434 12.669C12.759 14.8738 10.7085 15.4831 8.88421 15.1041C7.15432 14.7448 5.8585 13.5415 5.18085 12.5735C4.86414 12.121 4.97417 11.4975 5.42662 11.1808Z"}))),w=()=>l.a.createElement("svg",{width:"16",height:"14",viewBox:"0 0 16 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{cursor:"pointer",margin:"10px"}},l.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0.5 0.333344H15.5V2.00001H0.5V0.333344ZM0.5 6.16667H15.5V7.83334H0.5V6.16667ZM15.5 12H0.5V13.6667H15.5V12Z",fill:"white"})),C=()=>l.a.createElement("svg",{width:"6",height:"12",viewBox:"0 0 6 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},l.a.createElement("path",{d:"M2.75749 0.666626H5.66659L3.72719 4.54541H5.66659L2.03022 11.3333L2.75749 6.48481H0.333252L2.75749 0.666626Z",fill:"white"})),j=()=>l.a.createElement("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},l.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20 10C20 4.48 15.52 0 10 0C4.48 0 0 4.48 0 10C0 15.52 4.48 20 10 20C15.52 20 20 15.52 20 10ZM6 9H10V6L14 10L10 14V11H6V9Z",fill:"white"})),x=()=>l.a.createElement("svg",{width:"10",height:"10",viewBox:"0 0 10 10",fill:"none",xmlns:"http://www.w3.org/2000/svg"},l.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.72472 8.39971L6.325 5L9.72472 1.60029C10.0918 1.23324 10.0918 0.642327 9.72472 0.275283C9.35767 -0.091761 8.76676 -0.091761 8.39971 0.275283L5 3.675L1.60029 0.275283C1.23324 -0.091761 0.642327 -0.091761 0.275283 0.275283C-0.091761 0.642327 -0.091761 1.23324 0.275283 1.60029L3.675 5L0.275283 8.39971C-0.091761 8.76676 -0.091761 9.35767 0.275283 9.72472C0.642327 10.0918 1.23324 10.0918 1.60029 9.72472L5 6.325L8.39971 9.72472C8.76676 10.0918 9.35767 10.0918 9.72472 9.72472C10.0892 9.35767 10.0892 8.76415 9.72472 8.39971Z",fill:"white"})),O=()=>l.a.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},l.a.createElement("path",{d:"M12 2C17.52 2 22 6.48 22 12C22 17.52 17.52 22 12 22C6.48 22 2 17.52 2 12C2 6.48 6.48 2 12 2Z",fill:"#858688"}),l.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16.7247 15.3997L13.325 12L16.7247 8.60029C17.0918 8.23324 17.0918 7.64233 16.7247 7.27528C16.3577 6.90824 15.7668 6.90824 15.3997 7.27528L12 10.675L8.60029 7.27528C8.23324 6.90824 7.64233 6.90824 7.27528 7.27528C6.90824 7.64233 6.90824 8.23324 7.27528 8.60029L10.675 12L7.27528 15.3997C6.90824 15.7668 6.90824 16.3577 7.27528 16.7247C7.64233 17.0918 8.23324 17.0918 8.60029 16.7247L12 13.325L15.3997 16.7247C15.7668 17.0918 16.3577 17.0918 16.7247 16.7247C17.0892 16.3577 17.0892 15.7642 16.7247 15.3997Z",fill:"white"})),N=[a(746),a(747),a(748),a(329),a(749),a(750),a(751),a(329),a(752),a(753),a(754),a(755),a(756),a(757),a(758),a(759),a(760),a(761),a(762),a(763),a(764),a(765),a(766),a(767),a(768)],y=()=>{const e=Math.floor(24*Math.random());return N[e]},k=e=>(null===e||void 0===e?void 0:e.user.image)?(null===e||void 0===e?void 0:e.user.image.includes("jen-avatar"))?N[11]:e.user.image:y();a(769);const L=({user:e})=>l.a.createElement("li",{className:"messaging-create-channel__user-result"},l.a.createElement(o.a,{image:e.image,size:40}),e.online&&l.a.createElement("div",{className:"messaging-create-channel__user-result-online"}),l.a.createElement("div",{className:"messaging-create-channel__user-result__details"},l.a.createElement("span",null,e.name)));var R=l.a.memo(({onClose:e,toggleMobile:t})=>{const a=Object(n.useContext)(o.g),c=a.client,s=a.setActiveChannel,i=Object(n.useState)(void 0),m=Object(r.a)(i,2),d=m[0],g=m[1],v=Object(n.useState)(""),E=Object(r.a)(v,2),f=E[0],_=E[1],b=Object(n.useState)(!1),w=Object(r.a)(b,2),C=w[0],j=w[1],N=Object(n.useState)(!1),y=Object(r.a)(N,2),k=y[0],R=y[1],M=Object(n.useState)(!1),I=Object(r.a)(M,2),S=I[0],z=I[1],Z=Object(n.useState)([]),H=Object(r.a)(Z,2),U=H[0],V=H[1],A=Object(n.useState)([]),P=Object(r.a)(A,2),q=P[0],B=P[1],F=Object(n.useRef)(),T=()=>{_(""),j(!1),R(!1)};Object(n.useEffect)(()=>{const e=()=>{C&&T()};return document.addEventListener("click",e),()=>document.removeEventListener("click",e)},[]);const J=function(){var e=Object(p.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!S){e.next=2;break}return e.abrupt("return");case 2:return z(!0),e.prev=3,e.next=6,c.queryUsers({id:{$ne:c.userID},$and:[{name:{$autocomplete:f}},{name:{$nin:["Daniel Smith","Kevin Rosen","Jen Alexander"]}}]},{id:1},{limit:6});case 6:(t=e.sent).users.length?(R(!1),B(t.users)):R(!0),j(!0),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),console.log({error:e.t0});case 14:z(!1);case 15:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(){return e.apply(this,arguments)}}(),D=h()(J,100,{trailing:!0});Object(n.useEffect)(()=>{f&&D()},[f]);const G=function(){var t=Object(p.a)(u.a.mark((function t(){var a,n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if((a=U.map(e=>e.id)).length){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,c.channel("messaging",{members:[...a,c.userID]});case 5:return n=t.sent,t.next=8,n.watch();case 8:s(n),V([]),B([]),e();case 12:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),$=e=>{U.find(t=>t.id===e.id)||(V([...U,e]),j(!1),_(""),F.current.focus())},K=Object(n.useCallback)(e=>{if(38===e.which&&g(e=>void 0===e?0:0===e?q.length-1:e-1),40===e.which&&g(e=>void 0===e||e===q.length-1?0:e+1),13===e.which&&(e.preventDefault(),void 0!==d))return $(q[d]),g(void 0)},[q,d]);return Object(n.useEffect)(()=>(document.addEventListener("keydown",K,!1),()=>document.removeEventListener("keydown",K)),[K]),l.a.createElement("div",{className:"messaging-create-channel"},l.a.createElement("header",null,l.a.createElement("div",{className:"messaging-create-channel__left"},l.a.createElement("div",{className:"messaging-create-channel__left-text"},"To: "),l.a.createElement("div",{className:"users-input-container"},!!(null===U||void 0===U?void 0:U.length)&&l.a.createElement("div",{className:"messaging-create-channel__users"},U.map(e=>l.a.createElement("div",{className:"messaging-create-channel__user",onClick:()=>(e=>{const t=U.filter(t=>t.id!==e.id);V(t),F.current.focus()})(e),key:e.id},l.a.createElement("div",{className:"messaging-create-channel__user-text"},e.name),l.a.createElement(x,null)))),l.a.createElement("form",{onSubmit:$},l.a.createElement("input",{autoFocus:!0,ref:F,value:f,onChange:e=>_(e.target.value),placeholder:U.length?"":"Start typing for suggestions",type:"text",className:"messaging-create-channel__input"}))),l.a.createElement("div",{className:"close-mobile-create",onClick:()=>t()},l.a.createElement(O,null))),l.a.createElement("button",{className:"create-channel-button",onClick:G},"Start chat")),f&&l.a.createElement("main",null,l.a.createElement("ul",{className:"messaging-create-channel__user-results"},!!(null===q||void 0===q?void 0:q.length)&&!k&&l.a.createElement("div",null,q.map((e,t)=>l.a.createElement("div",{className:"messaging-create-channel__user-result ".concat(d===t&&"focused"),onClick:()=>$(e),key:e.id},l.a.createElement(L,{user:e})))),k&&l.a.createElement("div",{onClick:()=>{F.current.focus(),T()},className:"messaging-create-channel__user-result empty"},"No people found..."))))});a(770);var M=e=>l.a.createElement(l.a.Fragment,null,l.a.createElement(o.k,e));a(771),a(772);const I=()=>{const e=Object(n.useContext)(o.c),t=e.client,a=e.typing;if(!t||!a)return null;const c=Object.values(a).filter(({user:e})=>{var a;return(null===e||void 0===e?void 0:e.id)!==(null===(a=t.user)||void 0===a?void 0:a.id)}).map(({user:e})=>e.name||e.id);let s="";return 1===c.length?s="".concat(c[0]," is typing"):2===c.length?s="".concat(c[0]," and ").concat(c[1]," are typing"):c.length>2&&(s="".concat(c[0]," and ").concat(c.length-1," more are typing")),l.a.createElement("div",{className:"messaging__typing-indicator"},s&&l.a.createElement("div",{className:"dots"},l.a.createElement("span",{className:"dot"}),l.a.createElement("span",{className:"dot"}),l.a.createElement("span",{className:"dot"})),l.a.createElement("div",null,s))};var S=l.a.memo(e=>{var t;const a=Object(n.useContext)(o.c),c=a.channel,s=a.client,i=Object(n.useState)((null===c||void 0===c?void 0:c.data.name)||""),m=Object(r.a)(i,2),d=m[0],g=m[1],h=Object(n.useState)(!1),f=Object(r.a)(h,2),_=f[0],b=f[1],C=Object(n.useState)(""),j=Object(r.a)(C,2),x=j[0],O=j[1],N=Object(n.useRef)(),y=Object.values((null===(t=c.state)||void 0===t?void 0:t.members)||{}).filter(e=>{var t,a;return(null===(t=e.user)||void 0===t?void 0:t.id)!==(null===s||void 0===s||null===(a=s.user)||void 0===a?void 0:a.id)}),L=function(){var e=Object(p.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&t.preventDefault(),!d||d===c.data.name){e.next=4;break}return e.next=4,c.update({name:d},{text:"Channel name changed to ".concat(d)});case 4:b(!1);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(n.useEffect)(()=>{_&&N.current&&N.current.focus()},[_]),Object(n.useEffect)(()=>{d||O(y.map(e=>{var t,a;return(null===(t=e.user)||void 0===t?void 0:t.name)||(null===(a=e.user)||void 0===a?void 0:a.id)||"Unnamed User"}).join(", "))},[d,y]);const R=()=>l.a.createElement("form",{style:{flex:1},onSubmit:e=>{e.preventDefault(),N.current.blur()}},l.a.createElement("input",{autoFocus:!0,className:"channel-header__edit-input",onBlur:L,onChange:e=>g(e.target.value),placeholder:"Type a new name for the chat",ref:N,value:d}));return l.a.createElement("div",{className:"messaging__channel-header"},l.a.createElement("div",{id:"mobile-nav-icon",className:"".concat(e.theme),onClick:()=>e.toggleMobile()},l.a.createElement(w,null)),(e=>1===e.length?l.a.createElement("div",{className:"messaging__channel-header__avatars"},l.a.createElement(o.a,{image:k(e[0]),size:40}),";"):2===e.length?l.a.createElement("div",{className:"messaging__channel-header__avatars two"},l.a.createElement("span",null,l.a.createElement(o.a,{image:k(e[0]),shape:"square",size:40})),l.a.createElement("span",null,l.a.createElement(o.a,{image:k(e[1]),shape:"square",size:40}))):3===e.length?l.a.createElement("div",{className:"messaging__channel-header__avatars three"},l.a.createElement("span",null,l.a.createElement(o.a,{image:k(e[0]),shape:"square",size:40})),l.a.createElement("span",null,l.a.createElement(o.a,{image:k(e[1]),shape:"square",size:20}),l.a.createElement(o.a,{image:k(e[2]),shape:"square",size:20}))):e.length>=4?l.a.createElement("div",{className:"messaging__channel-header__avatars four"},l.a.createElement("span",null,l.a.createElement(o.a,{image:k(e[e.length-1]),shape:"square",size:20}),l.a.createElement(o.a,{image:k(e[e.length-2]),shape:"square",size:20})),l.a.createElement("span",null,l.a.createElement(o.a,{image:k(e[e.length-3]),shape:"square",size:20}),l.a.createElement(o.a,{image:k(e[e.length-4]),shape:"square",size:20}))):null)(y),_?l.a.createElement(R,null):l.a.createElement("div",{className:"channel-header__name"},d||x),l.a.createElement("div",{className:"messaging__channel-header__right"},l.a.createElement(I,null),"Social Demo"!==d&&(_?l.a.createElement(E,null):l.a.createElement(v,{isEditing:_,setIsEditing:b}))))});a(773);const z=()=>l.a.createElement("div",{style:{position:"relative"}},l.a.createElement("ul",{className:"skeleton-loader__list"},l.a.createElement("li",null,l.a.createElement("div",{className:"skeleton-loader__avatar"}),l.a.createElement("div",{className:"skeleton-loader__text"},l.a.createElement("div",null),l.a.createElement("div",null))),l.a.createElement("li",null,l.a.createElement("div",{className:"skeleton-loader__avatar"}),l.a.createElement("div",{className:"skeleton-loader__text"},l.a.createElement("div",null),l.a.createElement("div",null))),l.a.createElement("li",null,l.a.createElement("div",{className:"skeleton-loader__avatar"}),l.a.createElement("div",{className:"skeleton-loader__text"},l.a.createElement("div",null),l.a.createElement("div",null))),l.a.createElement("li",null,l.a.createElement("div",{className:"skeleton-loader__avatar"}),l.a.createElement("div",{className:"skeleton-loader__text"},l.a.createElement("div",null),l.a.createElement("div",null))),l.a.createElement("li",null,l.a.createElement("div",{className:"skeleton-loader__avatar"}),l.a.createElement("div",{className:"skeleton-loader__text"},l.a.createElement("div",null),l.a.createElement("div",null)))));var Z=l.a.memo(({children:e,error:t=!1,loading:c,onCreateChannel:s})=>{const r=Object(n.useContext)(o.g),i=r.client,m=r.setActiveChannel,d=i.user||{},g=d.id,h=d.image,v=void 0===h?a(774):h,E=d.name,f=void 0===E?"Example User":E;Object(n.useEffect)(()=>{var t,a;const n=function(){var e=Object(p.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.channel("messaging","first",{name:"Social Demo"}),e.next=3,a.watch();case 3:return e.next=5,a.addMembers([t.user.id]);case 5:m(a);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();c||(null===e||void 0===e||null===(t=e.props)||void 0===t||null===(a=t.children)||void 0===a?void 0:a.length)||n(i)},[c]);const b=({children:e})=>l.a.createElement("div",{className:"messaging__channel-list"},l.a.createElement("div",{className:"messaging__channel-list__header"},l.a.createElement(o.a,{image:v,name:f,size:40}),l.a.createElement("div",{className:"messaging__channel-list__header__name"},f||g),l.a.createElement("button",{className:"messaging__channel-list__header__button",onClick:s},l.a.createElement(_,null))),e);return t?l.a.createElement(b,null,l.a.createElement("div",{className:"messaging__channel-list__message"},"Error loading conversations, please try again momentarily.")):c?l.a.createElement(b,null,l.a.createElement("div",{className:"messaging__channel-list__message"},l.a.createElement(z,null))):l.a.createElement(b,null,e)});a(775);var H=e=>{const t=e.channel,a=e.latestMessage,c=e.setActiveChannel,s=e.setIsCreating,r=Object(n.useContext)(o.g),i=r.channel,m=r.client,d=Object.values(t.state.members).filter(({user:e})=>e.id!==m.userID);return l.a.createElement("div",{className:(null===t||void 0===t?void 0:t.id)===(null===i||void 0===i?void 0:i.id)?"channel-preview__container selected":"channel-preview__container",onClick:()=>{s(!1),c(t)}},(e=>1===e.length?l.a.createElement(o.a,{image:k(e[0]),size:40}):2===e.length?l.a.createElement("div",{className:"channel-preview__avatars two"},l.a.createElement("span",null,l.a.createElement(o.a,{image:k(e[0]),shape:"square",size:40})),l.a.createElement("span",null,l.a.createElement(o.a,{image:k(e[1]),shape:"square",size:40}))):3===e.length?l.a.createElement("div",{className:"channel-preview__avatars three"},l.a.createElement("span",null,l.a.createElement(o.a,{image:k(e[0]),shape:"square",size:40})),l.a.createElement("span",null,l.a.createElement(o.a,{image:k(e[1]),shape:"square",size:20}),l.a.createElement(o.a,{image:k(e[2]),shape:"square",size:20}))):e.length>=4?l.a.createElement("div",{className:"channel-preview__avatars"},l.a.createElement("span",null,l.a.createElement(o.a,{image:k(e[e.length-1]),shape:"square",size:20}),l.a.createElement(o.a,{image:k(e[e.length-2]),shape:"square",size:20})),l.a.createElement("span",null,l.a.createElement(o.a,{image:k(e[e.length-3]),shape:"square",size:20}),l.a.createElement(o.a,{image:k(e[e.length-4]),shape:"square",size:20}))):null)(d),l.a.createElement("div",{className:"channel-preview__content-wrapper"},l.a.createElement("div",{className:"channel-preview__content-top"},l.a.createElement("p",{className:"channel-preview__content-name"},t.data.name||(e=>{var t,a;var n;return e.length&&1!==e.length?"".concat((null===(t=e[0])||void 0===t?void 0:t.user.name)||"Johnny Blaze",", ").concat((null===(a=e[1])||void 0===a?void 0:a.user.name)||"Johnny Blaze"):(null===(n=e[0])||void 0===n?void 0:n.user.name)||"Johnny Blaze"})(d)),l.a.createElement("p",{className:"channel-preview__content-time"},(e=>{var t,a;let n=null===(t=e.state.last_message_at)||void 0===t?void 0:t.getHours(),l=null===(a=e.state.last_message_at)||void 0===a?void 0:a.getMinutes(),c="AM";return void 0===n||void 0===l?"":(n>12&&(n-=12,c="PM"),0===n&&(n=12),12===n&&(c="PM"),1===l.toString().length&&(l="0".concat(l)),"".concat(n,":").concat(l," ").concat(c))})(t))),l.a.createElement("p",{className:"channel-preview__content-message"},a||"Send a message")))},U=a(70),V=a(104);a(776);const A=({fileOrder:e,fileUploads:t,imageOrder:a,imageUploads:c,numberOfUploads:s,removeFile:r,removeImage:i,uploadFile:m,uploadImage:d,uploadNewFiles:u})=>{const p=Object(n.useContext)(o.c);return l.a.createElement(l.a.Fragment,null,a.length>0&&l.a.createElement(V.c,{imageUploads:a.map(e=>c[e]),handleRemove:i,handleRetry:d,handleFiles:u,multiple:p.multipleUploads,disabled:void 0!==p.maxNumberOfFiles&&s>=p.maxNumberOfFiles}),e.length>0&&l.a.createElement(V.a,{uploads:e.map(e=>t[e]),handleRemove:r,handleRetry:m,handleFiles:u}))},P=()=>l.a.createElement("div",{className:"giphy-icon__wrapper"},l.a.createElement(C,null),l.a.createElement("p",{className:"giphy-icon__text"},"GIPHY"));var q=l.a.memo(e=>{const t=Object(n.useContext)(o.c),a=t.acceptedFiles,c=t.maxNumberOfFiles,s=t.multipleUploads,m=t.sendMessage,d=Object(n.useState)(!1),u=Object(r.a)(d,2),p=u[0],g=u[1],h=Object(o.n)(Object(U.a)(Object(U.a)({},e),{},{overrideSubmitHandler:e=>{let t;if(e.attachments.length&&e.text.startsWith("/giphy")){const a=e.text.replace("/giphy","");t=Object(U.a)(Object(U.a)({},e),{},{text:a})}if(p){const a="/giphy ".concat(e.text);t=Object(U.a)(Object(U.a)({},e),{},{text:a})}const a=m(t||e);Object(i.b)(a,"send message"),g(!1)}})),v=Object(n.useCallback)(e=>{var t;const a=e.target.value,n="deleteContentBackward"===(null===(t=e.nativeEvent)||void 0===t?void 0:t.inputType);1===h.text.length&&n&&g(!1),p||!h.text.startsWith("/giphy")||h.numberOfUploads||(e.target.value=a.replace("/giphy",""),g(!0)),h.handleChange(e)},[p,h]);return l.a.createElement("div",{className:"str-chat__messaging-input"},l.a.createElement("div",{className:"messaging-input__button emoji-button",role:"button","aria-roledescription":"button",onClick:h.openEmojiPicker,ref:h.emojiPickerRef},l.a.createElement(b,null)),l.a.createElement(V.b,{accept:a,handleFiles:h.uploadNewFiles,multiple:s,disabled:void 0!==c&&h.numberOfUploads>=c||p},l.a.createElement("div",{className:"messaging-input__input-wrapper"},p&&!h.numberOfUploads&&l.a.createElement(P,null),l.a.createElement(A,h),l.a.createElement(o.f,{commands:h.getCommands(),innerRef:h.textareaRef,handleSubmit:h.handleSubmit,onSelectItem:h.onSelectItem,onChange:v,value:h.text,rows:1,maxRows:e.maxRows,placeholder:"Send a message",onPaste:h.onPaste,triggers:e.autocompleteTriggers,grow:e.grow,disabled:e.disabled,additionalTextareaProps:e.additionalTextareaProps}))),l.a.createElement("div",{className:"messaging-input__button",role:"button","aria-roledescription":"button",onClick:h.handleSubmit},l.a.createElement(j,null)),l.a.createElement(o.h,h))});a(777);const B=({closeThread:e,thread:t})=>l.a.createElement("div",{className:"custom-thread-header"},l.a.createElement("div",{className:"custom-thread-header__left"},l.a.createElement("p",{className:"custom-thread-header__left-title"},"Thread"),l.a.createElement("p",{className:"custom-thread-header__left-count"},(null===t||void 0===t?void 0:t.reply_count)?1===t.reply_count?"1 reply":"".concat(t.reply_count," Replies"):"")),l.a.createElement(f,{closeThread:e}));var F=()=>l.a.createElement(o.l,{Message:M,MessageInput:q,ThreadHeader:B});a(778);const T=new URLSearchParams(window.location.search),J=T.get("apikey")||"dz5f4d5kzrue",D=T.get("user")||"daddy-dan",G=T.get("user_token")||"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoiZGFkZHktZGFuIn0.59VB8bPAtojkl5NjUY0OA5zK4CoOdafQmchbVeJb2rg",$=T.get("target_origin")||Object({NODE_ENV:"production",PUBLIC_URL:".",REACT_APP_STREAM_KEY:"dz5f4d5kzrue",REACT_APP_USER_ID:"daddy-dan",REACT_APP_USER_TOKEN:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoiZGFkZHktZGFuIn0.59VB8bPAtojkl5NjUY0OA5zK4CoOdafQmchbVeJb2rg"}).REACT_APP_TARGET_ORIGIN,K=T.get("no_channel_name_filter")||!1,W=T.get("skip_name_image_set")||!1,X=K?{type:"messaging",members:{$in:[D]}}:{type:"messaging",name:"Social Demo"},Y={state:!0,watch:!0,presence:!0,limit:8},Q={last_message_at:-1,updated_at:-1,cid:1},ee={id:D,name:D,image:y()};W&&(delete ee.name,delete ee.image);const te=i.a.getInstance(J);te.connectUser(ee,G);var ae=()=>{const e=Object(n.useState)(!1),t=Object(r.a)(e,2),a=t[0],c=t[1],s=Object(n.useState)(!1),i=Object(r.a)(s,2),d=i[0],u=i[1],p=Object(n.useState)("dark"),g=Object(r.a)(p,2),h=g[0],v=g[1];m(te,$),Object(n.useEffect)(()=>{const e=({data:e,origin:t})=>{t===$&&("light"!==e&&"dark"!==e||v(e))};return window.addEventListener("message",e),()=>window.removeEventListener("message",e)},[]),Object(n.useEffect)(()=>{const e=document.querySelector("#mobile-channel-list");d&&e?(e.classList.add("show"),document.body.style.overflow="hidden"):!d&&e&&(e.classList.remove("show"),document.body.style.overflow="auto")},[d]),Object(n.useEffect)(()=>{const e=()=>{const e=document.documentElement;console.log("setting app height",window.innerHeight),e.style.setProperty("--app-height","".concat(window.innerHeight,"px"))};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);const E=()=>u(!d);return l.a.createElement(o.e,{client:te,theme:"messaging ".concat(h)},l.a.createElement("div",{id:"mobile-channel-list",onClick:E},l.a.createElement(o.d,{filters:X,sort:Q,options:Y,List:e=>l.a.createElement(Z,Object.assign({},e,{onCreateChannel:()=>c(!a)})),Preview:e=>l.a.createElement(H,Object.assign({},e,{setIsCreating:c}))})),l.a.createElement("div",null,l.a.createElement(o.b,{maxNumberOfFiles:10,multipleUploads:!0},a&&l.a.createElement(R,{toggleMobile:E,onClose:()=>c(!1)}),l.a.createElement(o.m,null,l.a.createElement(S,{theme:h,toggleMobile:E}),l.a.createElement(o.j,{messageActions:["edit","delete","flag","mute","react","reply"],Message:M,TypingIndicator:()=>null}),l.a.createElement(o.i,{focus:!0,Input:q})),l.a.createElement(F,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(l.a.createElement(ae,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(e=>{e.unregister()})}},[[354,1,2]]]);
//# sourceMappingURL=main.deba4605.chunk.js.map